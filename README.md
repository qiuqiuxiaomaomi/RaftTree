# RaftTree
Raft一致性协议

<pre>
      来自于Stanford的新的分布式协议研究称为Raft，它是一个为真实的世界应用建立的协议，主要
   注重协议的落地性和可理解性。

   Consensus:
            它是指多个服务器在状态达成一致，但是在一个分布式系统中，因为各种意外可能，有的
      服务器可能会崩溃或变得不可靠，它就不能和其他服务器达成一致。这种就需要一种Consensus协
      议，一致性协议是为了确保容错性，也就是即使系统中有一两个服务器宕机，也不会影响其处理过程。

            为了以容错方式达成一致，我们不可能要求所有服务器100%都达成一致状态，只要超过
      半数的大多数服务器达成一致就可以了，假设有N台服务器， N/2 + 1就超过半数，代表大多数了。
            在Raft中，任何时候一个服务器可以扮演下面角色之一：
            1：Leader:处理所有客户端交互，日志复制等，一般一次只有一个Leader
            2：Follower：类似选民，完全被动，请求的被动更新者，从Leader接受更新请求，然
               后写如本地日志文件。
            3：Candidate候选人：类似于Proposer律师，可以被选为一个新的领导人，如果Follower
               副本在一段时间内没有收到Leader副本的心跳，则判断Leader可能已经故障，此时启动选举
               过程，此时副本会变成Candidate状态，直到选举结束。

      Raft阶段分为两个，首先是选举过程，然后在选举出来的领导人带领进行正常操作，比如日志复
      制等，下面用途展示这个过程：
            1：任何一个服务器都可以成为一个候选者Candidate，它向其他服务器Follower发出
               要求选举自己的请求。
            2：如果其他服务器统一了，发出OK，如果这个过程中有个Follower宕机，没有收到请求
               选举的要求，因此候选者可以自己选自己，只要达到N/2+1的大多数票，候选人还是可
               已成为Leader的。

    Raft是一种管理复制日志的一致性算法.
    它的首要设计目的就是易于理解，所以在选主的冲突处理等方式上它都选择了非常简单明了的解决方案。
    Raft将一致性拆分为几个关键元素。
        1：Leader选举
        2：日志复制
        3：安全性
    
</pre>